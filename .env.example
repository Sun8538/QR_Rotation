# ============================================
# Smart Attendance Management System with real-time sync and QR rotation
# Environment Configuration
# ============================================
# Copy this file to .env and update with your values

# ============================================
# Flask Application Settings
# ============================================
FLASK_ENV=development
SECRET_KEY=vibetrack_super_secret_key_2024_secure_flask_app_change_in_production
DEBUG=True

# ============================================
# Database Configuration
# ============================================
# SQLite (default for development)
DATABASE_URL=sqlite:///attendance.db
# For PostgreSQL (production):
# DATABASE_URL=postgresql://username:password@localhost/attendance_db

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=your_jwt_secret_key_here_change_in_production
JWT_EXPIRY_HOURS=168

# ============================================
# QR Code Settings (IMPORTANT FOR SCANNING)
# ============================================
# Secret key for QR code generation
QR_SECRET=vibetrack_qr_secret_key_2024_secure
# How long QR codes remain valid (in seconds)
# Recommended: 60-120 seconds
QR_EXPIRY_SECONDS=60
# How often to rotate QR codes (in seconds)
QR_ROTATION_INTERVAL=60

# ============================================
# Server Configuration
# ============================================
HOST=0.0.0.0
PORT=5000

# ============================================
# Email Configuration (Flask-Mail)
# ============================================
# Enable/disable email notifications
ENABLE_EMAIL_NOTIFICATIONS=false

# SMTP Server Settings
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USE_SSL=false

# Email Credentials (REQUIRED if email notifications enabled)
# For Gmail: Use App Password (https://myaccount.google.com/apppasswords)
# 1. Enable 2-Factor Authentication
# 2. Generate App Password
# 3. Use that password here
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password-here
MAIL_DEFAULT_SENDER=noreply@attendance.com

# Email Notification Settings
LOW_ATTENDANCE_THRESHOLD=75
SEND_DAILY_REMINDERS=false

# ============================================
# Geolocation Settings
# ============================================
# Enable location verification for attendance
ENABLE_GEOLOCATION=true
# Allowed distance from classroom (in meters)
LOCATION_VERIFICATION_RADIUS=100

# ============================================
# Session Settings
# ============================================
SESSION_COOKIE_SECURE=false
REMEMBER_COOKIE_SECURE=false
# Set to true in production with HTTPS

# ============================================
# Important Notes
# ============================================
# 1. QR Code Expiration Issue:
#    - If QR codes expire too quickly, increase QR_EXPIRY_SECONDS
#    - Ensure server and client times are synchronized
#    - Recommended: 60 seconds for development, 120 for production
#
# 2. Email Setup (Gmail):
#    - Go to: https://myaccount.google.com/security
#    - Enable 2-Step Verification
#    - Generate App Password: https://myaccount.google.com/apppasswords
#    - Use the 16-character app password in MAIL_PASSWORD
#
# 3. Security (Production):
#    - Change SECRET_KEY and QR_SECRET to strong random values
#    - Set DEBUG=False
#    - Enable HTTPS and set SESSION_COOKIE_SECURE=true
#    - Use PostgreSQL instead of SQLite
#    - Never commit .env file to version control
#
# 4. Geolocation:
#    - Update classroom coordinates in config.py
#    - Test location verification with real coordinates
#    - Adjust LOCATION_VERIFICATION_RADIUS as needed
